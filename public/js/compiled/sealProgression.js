var sealHashes={Savior:{name:"Dawn",description:"Complete all Triumphs for the Season of Dawn.",hash:"2460356851",objectives:[1087859470,1286790825,2703117203,1339925682,3115239680,4205106950,3657273027,473586745,3529019298,668304667,3084815879,402610684,2588095697,3348410972,1381558154,4060779237]},Enlightened:{name:"Garden of Salvation",description:'Complete all Triumphs for the "Garden of Salvation" raid.',hash:"3387213440",objectives:[3737200951,1120290476,4084913407,2841179989,4019629605,3382024472,4135952126,3281243931,1415847174,1925300422,1289529921,1661612473,1405614232,3167166053,2398673548,1872013791]},Harbinger:{name:"Shadowkeep",description:"Complete all Triumphs for Shadowkeep.",hash:"3793754396",objectives:[96478725,4175541463,3015116930,1375269962,2140812264,3279886460,376114010,4011899423,3232448575,1842542594]},Undying:{name:"Undying",description:"Complete all Triumphs for Season of the Undying.",hash:"2707428411",objectives:[697150349,1341533303,2589331138,810213052,2923920213,3672750091,2818354043,912770300,2653351430,3020697345,184258406,630510424,1624361599,55098543]},MMXIX:{name:"Moments of Triumph 2019",description:"Complete these feats of strength before 8/27/2019 to claim your unique rewards.",hash:"2254764897",objectives:[1076096270,1732935196,2630441634,1386173696,444152197,1518215963,2181708792,1294551872,4175049478,1492080644,488987738,1567884322,3710831503,3728188192,700444358,2556866202,277879384,3332500563,1913403057,1760928123,2314271318,2195455623,4060320345,1558682421]},Shadow:{name:"A Shadow Rises",description:"Complete all Season of Opulence Triumphs.",hash:"1883929036",objectives:[52802522,2439024314,2439024319,2439024318,1959753477,3141945846,2351146132,137611858,1593047161,1769517637,2372209106,1987500905,2575965017,2422246600,2422246592,2422246593,2472579457,1558682416,1558682429,1575460005,1575460004,1575460003,1575460002]},Reckoner:{name:"Reckoner",description:"Complete all Jokers Wild Triumphs.",hash:"1313291220",objectives:[2794426212,3601025763,2690344985,1466482627,590872239,1559002718,2129401906,417454997,1599750028,3191146526,452100546,2874049730,1291112668]},Blacksmith:{name:"Black Armory",description:"Complete all Black Armory Triumphs.",hash:"2053985130",objectives:[4160670554,3723768609,2748367119,578385083,212587483,2957876347,2487226217,142013189,903845240,3608027344,2172518965,2648109757,4162926221,1804999028,1428463716,2489553554,622242972]},Wayfarer:{name:"Destinations",description:"Complete all Destination Triumphs.",hash:"2757681677",objectives:[3488769908,2676320666,4269157841,4174911913,3686586344,3015917345,3015917346,3015917347,1683000545,2137287373,1632551190,3630489247,633055621,3408598133,3632308741,3727584102,1417930213,376008854,641038864,3517489196,3308633273,3122478469]},Dredgen:{name:"Gambit",description:"Complete all Gambit Triumphs.",hash:"3798931976",objectives:[1975718024,3948150872,1676823618,1694320690,28292202,3901785488,1071663279,3802330071,3492541163,2734663473,723502823]},Unbroken:{name:"Crucible",description:"Complete all lifetime Valor and Glory rank triumphs.",hash:"3369119720",objectives:[1711079800,277879384,559943871,115001349,3008350477,200792717,1486384135,2158033469,4185918315,1602622486]},Chronicler:{name:"Lore",description:"Complete all Lore Triumphs.",hash:"1754983323",objectives:[1841779644,2234714130,195315622,3084088704,3518847135,3523455218,565725664,157348228,1971661116,2122886722]},Cursebreaker:{name:"The Dreaming City",description:"Complete all Dreaming City Triumphs.",hash:"1693645129",objectives:[1522035006,3405837767,2144075647,2144075646,2144075645,749838902,2314271318,1079063233,2101481124,1441693899,1416291884]},Rivensbane:{name:"Raids",description:"Complete all Raid Triumphs.",hash:"2182090828",objectives:[751035753,2196415799,3806804934,2822000740,613834558,567795114,2195455623,3899933775,4177910003,149192209,2398356743,1373122528,1672792871,1004616690,2983721440,2673596601]}};$(document).ready(function(){"member_id"in ccbNS&&$.ajax({url:ccbNS.bungie_api_url+"/Destiny2/"+ccbNS.member_platform_type+"/Profile/"+ccbNS.member_id+"/?components=900",headers:{"X-API-Key":ccbNS.bungie_api}}).fail(function(){$(".loader-text").html("Unable to retrieve members ðŸ˜Ÿ <br/>Bungie API might be under maintenance")}).done(function(e){e.Response?(memberData=e.Response,$.get("/api/manifest/get_record_definition",function(e){for(var t in $("#sub-menu > ul").append('<li class="nav-item pt-4"><a class="nav-link disabled" href="#" aria-disabled="true">Seals</a></li>'),sealHashes){$(".stats-container").append('<div id="'+t.toLowerCase()+'" class="col-md-12 mb-4 pt-md-5"><h2 class="text-yellow text-left mb-1 stats-container-header"><a href="#'+t.toLowerCase()+'">'+t+'</a></h2><div class="text-left text-secondary mb-2">'+sealHashes[t].description+"</div></div>");for(var a=[],r=[],o=[],i=[],s=0;s<sealHashes[t].objectives.length;s++){var n=sealHashes[t].objectives[s],c=!1,l=!1,d="",m={completed:0,total:0,inProgress:[]};for(var p in memberData.characterRecords.data)n in memberData.characterRecords.data[p].records&&(1==memberData.characterRecords.data[p].records[n].objectives.length&&1==memberData.characterRecords.data[p].records[n].objectives[0].complete?c=!0:memberData.characterRecords.data[p].records[n].objectives.length>1&&memberData.characterRecords.data[p].records[n].objectives.filter(function(e){return 1==e.complete}).length==memberData.characterRecords.data[p].records[n].objectives.length?c=!0:memberData.characterRecords.data[p].records[n].objectives.length>1&&memberData.characterRecords.data[p].records[n].objectives.filter(function(e){return 1==e.complete}).length!=memberData.characterRecords.data[p].records[n].objectives.length&&(l=!0,m.completed=memberData.characterRecords.data[p].records[n].objectives.filter(function(e){return 1==e.complete}).length,m.total=memberData.characterRecords.data[p].records[n].objectives.length,m.inProgress=memberData.characterRecords.data[p].records[n].objectives.filter(function(e){return 1!=e.complete})));if(n in memberData.profileRecords.data.records)if(memberData.profileRecords.data.records[n].objectives&&(1==memberData.profileRecords.data.records[n].objectives.length&&1==memberData.profileRecords.data.records[n].objectives[0].complete?c=!0:memberData.profileRecords.data.records[n].objectives.length>1&&memberData.profileRecords.data.records[n].objectives.filter(function(e){return 1==e.complete}).length==memberData.profileRecords.data.records[n].objectives.length?c=!0:memberData.profileRecords.data.records[n].objectives.length>1&&memberData.profileRecords.data.records[n].objectives.filter(function(e){return 1==e.complete}).length!=memberData.profileRecords.data.records[n].objectives.length&&(l=!0,m.completed=memberData.profileRecords.data.records[n].objectives.filter(function(e){return 1==e.complete}).length,m.total=memberData.profileRecords.data.records[n].objectives.length,m.inProgress=memberData.profileRecords.data.records[n].objectives.filter(function(e){return 1!=e.complete})),1==memberData.profileRecords.data.records[n].objectives.length&&0==memberData.profileRecords.data.records[n].objectives[0].complete&&memberData.profileRecords.data.records[n].objectives[0].progress>0&&0!=memberData.profileRecords.data.records[n].objectives[0].completionValue&&(d=memberData.profileRecords.data.records[n].objectives[0].progress+"/"+memberData.profileRecords.data.records[n].objectives[0].completionValue)),memberData.profileRecords.data.records[n].intervalObjectives)memberData.profileRecords.data.records[n].intervalObjectives.filter(function(e){return 1==e.complete}).length==memberData.profileRecords.data.records[n].intervalObjectives.length&&(c=!0);c?a.push(n):(r.push(n),l?o[n]=m:i[n]=d)}var h=a.length+r.length,b=Math.floor(a.length/h*100);if($("#"+t.toLowerCase()).append('<div class="progress"><div class="progress-bar bg-success" style="width: '+b+'%;" role="progressbar" aria-valuenow="'+b+'" aria-valuemin="0" aria-valuemax="100">'+b+"%</div></div>"),100!=b){for(var v in $("#"+t.toLowerCase()).append('<div class="row mt-3"></div>'),$("#"+t.toLowerCase()+" > div.row").append('<div id="'+t.toLowerCase()+'-inProgress" class="col-md-6 text-left mb-2"><h6 class="text-yellow">In-Progress ('+r.length+"/"+h+")</h6></div>"),$("#"+t.toLowerCase()+" > div.row").append('<div id="'+t.toLowerCase()+'-completed" class="col-md-6 text-left mb-2"><h6 class="text-yellow">Completed ('+a.length+"/"+h+")</h6></div>"),a)if(a[v]in e){var f='\n                  <div class="d-flex mb-1 vendor-item" data-toggle="tooltip" title="'+("\n                  <div>\n                    <h6 class='font-weight-bold mb-1'>"+e[a[v]].displayProperties.name+"</h6>\n                    <div class='d-flex align-items-center'>\n                      <div>\n                        <img src='https://bungie.net"+e[a[v]].displayProperties.icon+"' class='mt-1 mb-1 mr-2 tooltip-icon' style='width: 50px; height: 50px;'/>\n                      </div>\n                      <div>\n                        "+e[a[v]].displayProperties.description.replace(/"/g,"'")+"\n                      </div>\n                    </div>\n                  </div>\n                  ")+'" data-hash="'+a[v]+'">\n                    <img class="img-fluid" src="https://bungie.net'+e[a[v]].displayProperties.icon+'" style="width: 20px; height: 20px; margin-right: 5px; position: relative; top: 2px;"/>'+e[a[v]].displayProperties.name+"\n                  </div>\n                  ";$("#"+t.toLowerCase()+"-completed").append("<div>"+f+"</div>")}for(var v in r)if(r[v]in e){var g="";r[v]in o&&(g=" ("+(o[r[v]].completed>0?o[r[v]].completed:0)+"/"+o[r[v]].total+")"),r[v]in i&&i[r[v]]&&(g=" ("+i[r[v]]+")");f='\n                  <div class="d-flex mb-1 vendor-item" data-toggle="tooltip" title="'+("\n                  <div>\n                    <h6 class='font-weight-bold mb-1'>"+e[r[v]].displayProperties.name+g+"</h6>\n                    <div class='d-flex align-items-center'>\n                      <div>\n                        <img src='https://bungie.net"+e[r[v]].displayProperties.icon+"' class='mt-1 mb-1 mr-2 tooltip-icon' style='width: 50px; height: 50px;'/>\n                      </div>\n                      <div>\n                        "+e[r[v]].displayProperties.description.replace(/"/g,"'")+"\n                      </div>\n                    </div>\n                  </div>\n                  ")+'" data-hash="'+r[v]+'">\n                    <img class="img-fluid" src="https://bungie.net'+e[r[v]].displayProperties.icon+'" style="width: 20px; height: 20px; margin-right: 5px; position: relative; top: 2px;"/>'+e[r[v]].displayProperties.name+g+"\n                  </div>\n                  ";$("#"+t.toLowerCase()+"-inProgress").append("<div>"+f+"</div>")}$("#sub-menu > ul").append('<li class="nav-item"><a class="nav-link" href="#'+t.toLowerCase()+'">'+t+" ("+b+"%)</a></li>")}else $("#sub-menu > ul").append('<li class="nav-item"><a class="nav-link" href="#'+t.toLowerCase()+'">'+t+'<i class="fas fa-check text-success ml-2"></i></a></li>'),$(".stats-container #"+t.toLowerCase()+" h2").append('<i class="fas fa-check text-success ml-2"></i>')}$(".loader").hide(),$(".loader-text").hide();var u=document.createElement("textarea");u.innerHTML=$("h1#member-name").text();var j=u.value;$("h1#member-name").text(j).show(),$("#back-nav").show(),$("#sub-menu").show(),$('[data-toggle="tooltip"]').tooltip({html:!0}),window.location.hash&&$("html,body").animate({scrollTop:$(window.location.hash).offset().top},"fast")})):$(".loader-text").html("Unable to retrieve data ðŸ˜Ÿ <br/>Bungie API might be under maintenance")})});
